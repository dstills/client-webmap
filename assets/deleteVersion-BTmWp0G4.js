import{b as p,b6 as c,dy as u,dz as f,aB as m}from"./index-BS4ejk0L.js";import{r as v}from"./serverVersionUtils-ZQFwPOpf.js";const s=new Map;async function y(e,o,n){s.has(e)||await v(s,e);const r=s.get(e);if(((r==null?void 0:r.serverVersion)??0)<=11.1)throw new p("deleteVersion:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");const t=c(e),a=o.toJSON(),i=u(t.query,{query:f({...a,f:"json"}),...n,authMode:"immediate",method:"post"}),d=`${t.path}/delete`,{data:h}=await m(d,i);return h.success}export{y as deleteVersion,s as serverVersionCacheMap};
