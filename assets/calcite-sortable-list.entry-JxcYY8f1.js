import{bL as b,bS as u,bM as l,bO as m}from"./index-D2dWKXoe.js";import{c as g,d as f,u as p,I as v}from"./interactive-583e13d7-DfHC3qcQ.js";import{c as y}from"./observers-ff65e337--1jEkyko.js";import{d as h,a as O,c as S}from"./sortableComponent-710f8842-CRgJEYgN.js";import{d as I}from"./dom-bef18e4a-C29mvo6M.js";import"./browser-1baf23f7-zzj4YD6P.js";import"./guid-617f6e1b-DQtJl1SZ.js";/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/main/LICENSE.md for details.
 * v2.7.1
 */const d={sortItem:"sort-item",container:"container",containerHorizontal:"container--horizontal",containerVertical:"container--vertical"},x=":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{display:flex;flex:1 1 auto}.container--vertical{flex-direction:column}.container--horizontal{flex-direction:row}:host([hidden]){display:none}[hidden]{display:none}",C=class{constructor(e){b(this,e),this.calciteListOrderChange=u(this,"calciteListOrderChange",6),this.items=[],this.mutationObserver=y("mutation",()=>{this.setUpSorting()}),this.dragEnabled=!0,this.canPull=void 0,this.canPut=void 0,this.dragSelector=void 0,this.group=void 0,this.handleSelector="calcite-handle",this.layout="vertical",this.disabled=!1,this.loading=!1}connectedCallback(){h(this)||(this.setUpSorting(),this.beginObserving(),g(this))}disconnectedCallback(){h(this)||(f(this),O(this),this.endObserving())}componentDidRender(){p(this)}calciteHandleNudgeNextHandler(e){this.handleNudgeEvent(e)}onGlobalDragStart(){this.endObserving()}onGlobalDragEnd(){this.beginObserving()}onDragEnd(){}onDragStart(){}onDragSort(){this.items=Array.from(this.el.children),this.calciteListOrderChange.emit()}handleNudgeEvent(e){const{direction:a}=e.detail,t=e.composedPath().find(r=>r.matches(this.handleSelector)),i=this.items.find(r=>r.contains(t)||e.composedPath().includes(r)),c=this.items.length-1,n=this.items.indexOf(i);let o=!1,s;a==="up"?n===0?o=!0:s=n-1:n===c?s=0:n===c-1?o=!0:s=n+2,this.endObserving(),o?i.parentElement.appendChild(i):i.parentElement.insertBefore(i,this.items[s]),this.items=Array.from(this.el.children),this.beginObserving(),requestAnimationFrame(()=>I(t)),"selected"in t&&(t.selected=!0)}setUpSorting(){this.items=Array.from(this.el.children),S(this)}beginObserving(){var e;(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0})}endObserving(){var e;(e=this.mutationObserver)==null||e.disconnect()}render(){const{disabled:e,layout:a}=this,t=a==="horizontal"||!1;return l(v,{disabled:e},l("div",{class:{[d.container]:!0,[d.containerVertical]:!t,[d.containerHorizontal]:t}},l("slot",null)))}get el(){return m(this)}};C.style=x;export{C as calcite_sortable_list};
